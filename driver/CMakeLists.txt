cmake_minimum_required(VERSION 3.12)

project(PahoMqtt C)
set(CMAKE_C_STANDARD 11)

## build settings
set(PAHO_VERSION_MAJOR 1)
set(PAHO_VERSION_MINOR 2)
set(PAHO_VERSION_PATCH 1)
set(CLIENT_VERSION ${PAHO_VERSION_MAJOR}.${PAHO_VERSION_MINOR}.${PAHO_VERSION_PATCH})

string(TIMESTAMP BUILD_TIMESTAMP UTC)
message(STATUS "Timestamp is ${BUILD_TIMESTAMP}")

set(PROJECT_SOURCE_DIR ${PROJECT_SOURCE_DIR}/paho.mqtt.c/src)

file(GLOB SOURCES_PAHO ${PROJECT_SOURCE_DIR}/*.c)
file(GLOB INCLUDE_PAHO ${PROJECT_SOURCE_DIR}/MQTT*.h)


message(STATUS "This is BINARY dir " ${PROJECT_BINARY_DIR})
message(STATUS "This is SOURCE dir " ${PROJECT_SOURCE_DIR})
add_library(${PROJECT_NAME} ${SOURCES_PAHO} )


